---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const homeEntries = await getCollection("home");
const content = homeEntries.find((entry) => entry.id.startsWith("en"))?.data;

if (!content) {
  return new Response(null, {
    status: 404,
    statusText: "Not found",
  });
}

const styles = {
  section: "mt-16 pt-8 border-t border-gray-600",
  contentBlock:
    "mb-8 transform transition-transform duration-300 ease-in-out hover:translate-x-2",
  title: "text-xl font-bold mb-2",
  description: "text-gray-400",
  cta: "inline-block px-6 py-3 bg-white text-black font-bold transition-colors duration-300 ease-in-out hover:bg-gray-400 hover:text-white",
};
---

<BaseLayout title="Web3Yoda - Your Web3 Guide">
  <div class="container">
    <header>
      <h1 class="text-4xl font-bold mb-2">{content?.hero.title}</h1>
      <p class="text-gray-400 mb-8">{content?.hero.subtitle}</p>
    </header>

    <section class={styles.section} aria-labelledby="services-title">
      <h2 id="services-title" class="sr-only">Our Services</h2>
      {
        content?.services.map((service) => (
          <div class={styles.contentBlock}>
            <h3 class={styles.title}>{service.title}</h3>
            <p class={styles.description}>{service.description}</p>
          </div>
        ))
      }

      <div class={styles.contentBlock}>
        <h3 class={styles.title}>Free Discovery Call</h3>
        <p class={`${styles.description} mb-4`}>
          15 min call to get to know your personal needs
        </p>
        <a href="https://cal.com/web3yoda/15min" class={styles.cta}
          >Schedule a Call</a
        >
      </div>
    </section>

    <section class={styles.section} aria-labelledby="benefits-title">
      <h2 id="benefits-title" class="text-2xl font-bold mb-8">
        Why Choose Web3Yoda?
      </h2>
      <div class="space-y-12">
        {
          content?.benefits.map((benefit) => (
            <div class={styles.contentBlock}>
              <h3 class={styles.title}>{benefit.title}</h3>
              <p class={styles.description}>{benefit.description}</p>
            </div>
          ))
        }
      </div>
    </section>
  </div>
</BaseLayout>
